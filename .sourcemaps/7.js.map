{"version":3,"sources":["../../src/pages/customers/customers.module.ts","../../src/pages/tabs/tabs.ts","../../src/pages/customers/customers.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CustomersPage } from './customers';\n\n@NgModule({\n  declarations: [\n    CustomersPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CustomersPage),\n  ],\n  entryComponents: [CustomersPage]\n})\nexport class CustomersPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/customers/customers.module.ts","import { DashboardPage } from './../dashboard/dashboard';\nimport { Component } from '@angular/core';\nimport { OrdersPage } from '../orders/orders';\nimport { ProfilePage } from '../profile/profile';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\n\n\n@IonicPage()\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root ='DashboardPage';\n  tab2Root = 'OrdersPage';\n  tab3Root = 'ProfilePage';   \n\n  myindex: number;\n\n  constructor(public navCtrl:NavController,public NavParams:NavParams) {\n    this.myindex =NavParams.data.tabindex\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from \"@angular/common/http\";\nimport { Storage } from '@ionic/storage';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { CustomerService } from './../../providers/customer/customer'; \nimport { UtilProvider } from './../../providers/util/util';\nimport { TabsPage } from '../tabs/tabs';\n\nconst CUSTOMERS = \"customers\";\n\n@IonicPage()\n@Component({\n  selector: 'customers',\n  templateUrl: 'customers.html',\n})\nexport class CustomersPage {\n  user_id: any;\n  customers: any;\n  customers_in_storage: any;\n  searchTerm: string = \"\";\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private utility: UtilProvider,\n    private storage: Storage,\n    private customerService: CustomerService\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CustomersPage');\n    this.storage.get(\"user\").then((u) => {\n      this.user_id = u.data.id;\n    });\n    this.getCustomersFromStorage();\n  }\n\n  goToTabsPage() {\n    this.navCtrl.setRoot(TabsPage)\n  }\n\n  setFilteredItems(searchTerm) {\n    console.log(this.searchTerm);\n    this.customers = this.customers_in_storage.filter((customer) => {\n      console.log(customer)\n      return customer.name.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n  getCustomersFromStorage() {\n    // var loading = this.utility.presentLoadingDefault(\"Fetching Customers from Server ...\");\n    this.storage.get(CUSTOMERS).then((customers) => {\n      if(customers){\n        // loading.dismiss();\n        this.customers = customers;\n        this.customers_in_storage = customers;\n      } else {\n        // loading.dismiss();\n        this.getCustomersFromServer();\n      }\n      console.log(customers);\n    });\n  }\n\n  doRefresh(event) {\n    console.log(\"event: \", event);\n    this.getCustomersFromServer();\n    \n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.complete();\n    }, 1000);\n  }\n\n  getCustomersFromServer() {\n    var loading = this.utility.presentLoadingDefault(\"Fetching Customers from Server ...\");\n    this.customerService.fetchCustomers(this.user_id)\n      .subscribe(\n        async (response: HttpResponse<any>) => {\n          var res = await response.body;\n          if (res.status === \"error\") {\n            console.log(\"error: \", response);\n            loading.dismiss();\n            return this.utility.showAlert(\n              \"Error\",\n              \"Something went wrong, Customers did not fetch from server\"\n            );\n          }\n          else {\n            console.log(\"response: \", res);\n            loading.dismiss();\n            this.storage.set(CUSTOMERS, res.data);\n            this.navCtrl.push('CustomersPage');\n          } \n        },\n        (error: HttpErrorResponse) => {\n          loading.dismiss();\n          let message: string;\n          if(error.status === 500 || !error.error.errors){\n            message = \"There were problem, possible network or server errors, try again please.\";\n          }\n          else{\n            if(error.error.errors){\n              message = error.error.errors[0]\n            }\n          }\n          this.utility.showAlert( \"Error\", message );\n        }\n      );\n  }\n\n  openSearchInput() {\n    var nav = document.getElementById(\"searchNav\");\n    var mainnav = document.getElementById(\"mainNav\");\n    mainnav.style.display = \"none\";\n    nav.style.display = \"block\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/customers/customers.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/products/products.module.ts","../../src/pages/tabs/tabs.ts","../../src/pages/products/products.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductsPage } from './products';\n\n@NgModule({\n  declarations: [\n    ProductsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductsPage),\n  ],\n  entryComponents: [ProductsPage]\n})\nexport class ProductsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.module.ts","import { DashboardPage } from './../dashboard/dashboard';\nimport { Component } from '@angular/core';\nimport { OrdersPage } from '../orders/orders';\nimport { ProfilePage } from '../profile/profile';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\n\n\n@IonicPage()\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root ='DashboardPage';\n  tab2Root = 'OrdersPage';\n  tab3Root = 'ProfilePage';   \n\n  myindex: number;\n\n  constructor(public navCtrl:NavController,public NavParams:NavParams) {\n    this.myindex =NavParams.data.tabindex\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from \"@angular/common/http\";\nimport { Storage } from '@ionic/storage';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ProductService } from './../../providers/product/product'; \nimport { UtilProvider } from './../../providers/util/util';\nimport { TabsPage } from '../tabs/tabs';\n\nconst PRODUCTS = \"products\";\n\n@IonicPage()\n@Component({\n  selector: 'page-products',\n  templateUrl: 'products.html',\n})\nexport class ProductsPage {\n  products: any;\n  products_in_storage: any;\n  searchTerm: string = \"\";\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private utility: UtilProvider,\n    private storage: Storage,\n    private productService: ProductService\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProductsPage');\n    var nav = document.getElementById(\"searchNav\");\n    nav.style.display = \"none\";\n\n    this.getProductsFromStorage();\n  }\n\n  goToTabsPage() {\n    this.navCtrl.setRoot(TabsPage)\n  }\n\n  setFilteredItems(searchTerm) {\n    console.log(this.searchTerm);\n    this.products = this.products_in_storage.filter((product) => {\n      console.log(product)\n      return product.name.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n  getProductsFromStorage() {\n    var loading = this.utility.presentLoadingDefault(\"Fetching products from Server ...\");\n    this.storage.get(PRODUCTS).then((products) => {\n      if(products){\n        loading.dismiss();\n        this.products = products;\n        this.products_in_storage = products;\n      } else {\n        loading.dismiss();\n        this.getProductsFromServer();\n      }\n      console.log(products);\n    });\n  }  \n\n  doRefresh(event) {\n    console.log(\"event: \", event);\n    this.getProductsFromServer();\n    \n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.complete();\n    }, 1000);\n  }\n\n  getProductsFromServer() {\n    var loading = this.utility.presentLoadingDefault(\"Fetching products from Server ...\");\n    this.productService.getProducts()\n      .subscribe(\n        (response: HttpResponse<any>) => {\n          var res = response;\n          if (res == \"error\") {\n            console.log(\"error: \", res);\n            loading.dismiss();\n            return this.utility.showAlert(\n              \"Error\",\n              \"Something went wrong, Products did not fetch from server\"\n            );\n          }\n          else {\n            console.log(\"response: \", res);\n            loading.dismiss();\n            this.storage.set(PRODUCTS, res.data);\n            this.navCtrl.push('ProductsPage');\n          } \n        },\n        (error: HttpErrorResponse) => {\n          loading.dismiss();\n          let message: string;\n          if(error.status === 500 || !error.error.errors){\n            message = \"There were problem, possible network or server errors, try again please.\";\n          }\n          else{\n            if(error.error.errors){\n              message = error.error.errors[0]\n            }\n          }\n          this.utility.showAlert( \"Error\", message );\n        }\n      );\n  }\n\n  openSearchInput() {\n    var nav = document.getElementById(\"searchNav\");\n    var mainnav = document.getElementById(\"mainNav\");\n    mainnav.style.display = \"none\";\n    nav.style.display = \"block\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.ts"],"sourceRoot":""}